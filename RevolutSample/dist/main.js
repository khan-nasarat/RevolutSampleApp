(()=>{"use strict";var e,o="prod",t=((e={}).sandbox="https://sandbox-merchant.revolut.com/embed.js",e.prod="https://merchant.revolut.com/embed.js",e.dev="https://merchant.revolut.codes/embed.js",e),n=null;function r(e,o,c){if(void 0===o&&(o=r.mode),n){var a=n({publicToken:e,locale:c});return Promise.resolve(a)}var l=document.createElement("script");return l.id="revolut-payments",l.src=t[o],l.async=!0,document.head.appendChild(l),new Promise((function(o,t){function r(){document.head.removeChild(l),t(new Error("'RevolutPayments' failed to load"))}l.onload=function(){"function"==typeof RevolutCheckout?(o(RevolutCheckout.payments({publicToken:e,locale:c})),n=RevolutCheckout.payments,delete window.RevolutCheckout):r()},l.onerror=r}))}r.mode=o;var c=null;function a(e,o){if(void 0===o&&(o=a.mode),c)return c(e);var n=document.createElement("script");return n.id="revolut-checkout",n.src=t[o],n.async=!0,document.head.appendChild(n),new Promise((function(o,t){function r(){document.head.removeChild(n),t(new Error("'RevolutCheckout' is failed to load"))}n.onload=function(){"function"==typeof RevolutCheckout?(o(RevolutCheckout(e)),c=RevolutCheckout,delete window.RevolutCheckout):r()},n.onerror=r}))}a.mode=o,a.payments=function(e){var o=e.locale,t=e.publicToken,n=e.mode;return r(t,void 0===n?a.mode:n,o)},document.body.appendChild(async function(){console.log("in index.js inside component");let e="Value";const{revolutPay:o}=await a.payments({local:"en",mode:"sandbox",publicToken:"pk_xvYW2jXVjl6uIECsoMotSc58HZNEIwl2X5DUugsLOrprGVf1"});console.log("in index.js after importing revolut");const t={currency:"GBP",totalAmount:908,createOrder:async()=>{console.log("before create method");var o=await async function(){var o;return console.log("in index.js create async function"),console.log("in index.js making ajax call"),$.ajax({url:"/revolut/create",data:JSON.stringify({amount:908,captureMode:0,merchantOrderExtRef:"OrderIDfromFP",customerEmail:"nasarathkhan@gmail.com",description:"NEW FP Purchase",currency:"GBP",settlementCurrency:"GBP",merchantCustomerExtRef:"myOrderRef1"}),contentType:"application/json",type:"POST",async:!1,success:function(t){console.log(t),e=t.value.id,console.log(t.value.publicId),o=t},error:function(e){alert("error")}}),o}();return console.log(o.value.Id),console.log(o.value.publicId),{publicId:o.value.publicId}}};let n=document.getElementById("revolut-pay2.0");o.mount(n,t),o.on("payment",(o=>{var t;switch(o.type){case"cancel":alert("User cancelled at: "+o.dropOffState);break;case"success":var n={orderId:e};$.ajax({url:"/revolut/retrieve",data:n,contentType:"application/json",type:"GET",async:!1,success:function(e){"COMPLETED"===(t=e).state&&alert("Order retrieved successfully")},error:function(e){alert("error")}}),console.log(t),alert("Payment with Revpay2 successful");break;case"error":alert("Something went wrong with RevolutPay 2.0:"+o.error);break;default:console.log(o)}}))}())})();